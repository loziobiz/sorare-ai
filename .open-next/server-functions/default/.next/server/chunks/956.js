exports.id=956,exports.ids=[956],exports.modules={7246:(a,b,c)=>{"use strict";c.d(b,{S:()=>i});var d=c(21124),e=c(12325),f=c(71613),g=c(38301),h=c(15514);let i=g.forwardRef(({className:a,...b},c)=>(0,d.jsx)(e.bL,{className:(0,h.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),ref:c,...b,children:(0,d.jsx)(e.C1,{className:(0,h.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(f.A,{className:"h-4 w-4"})})}));i.displayName=e.bL.displayName},9408:(a,b,c)=>{"use strict";c.d(b,{H:()=>h});var d=c(21124),e=c(24515),f=c(45119);function g({src:a,alt:b}){return(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(e.default,{alt:b,blurDataURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZTBlMGUwIi8+PC9zdmc+",className:"h-auto max-w-[200px] rounded-lg",height:200,loading:"lazy",placeholder:"blur",src:a,unoptimized:!0,width:200})})}function h({card:a,showPositions:b=!0,showAverages:c=!0}){return(0,d.jsx)(f.Zp,{children:(0,d.jsxs)(f.Wu,{className:"space-y-3",children:[a.pictureUrl&&(0,d.jsx)(g,{alt:a.name,src:a.pictureUrl}),b&&a.anyPositions&&a.anyPositions.length>0&&(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("span",{className:"font-medium",children:"Position:"})," ",a.anyPositions.join(", ")]}),c&&(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center text-xs",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-muted-foreground",children:"L5"}),(0,d.jsx)("div",{className:"font-medium",children:a.l5Average?.toFixed(1)??"-"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-muted-foreground",children:"L15"}),(0,d.jsx)("div",{className:"font-medium",children:a.l15Average?.toFixed(1)??"-"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-muted-foreground",children:"L40"}),(0,d.jsx)("div",{className:"font-medium",children:a.l40Average?.toFixed(1)??"-"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-muted-foreground",children:"XP"}),(0,d.jsx)("div",{className:"font-medium",children:a.power?Math.round((Number.parseFloat(a.power)-1)*100):"-"})]})]}),a.anyPlayer?.activeClub&&(0,d.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,d.jsx)("div",{className:"font-medium",children:a.anyPlayer.activeClub.name}),a.anyPlayer.activeClub.activeCompetitions&&a.anyPlayer.activeClub.activeCompetitions.length>0&&(0,d.jsx)("div",{className:"text-muted-foreground",children:(()=>{let b=a.anyPlayer.activeClub.activeCompetitions.find(a=>"DOMESTIC_LEAGUE"===a.format);return b?.name??a.anyPlayer.activeClub.activeCompetitions[0]?.name})()})]})]})})}},15514:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(75338),e=c(81883),f=c.n(e),g=c(13135),h=c.n(g),i=c(43690);c(82704);let j={title:"Sorare AI - Gestisci la tua collezione",description:"Applicazione per interagire con Sorare API e gestire le tue carte collezionabili",manifest:"/manifest.json",themeColor:"#0f172a",appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"Sorare AI"}};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsxs)("body",{className:`${f().variable} ${h().variable} antialiased`,children:[(0,d.jsx)(i.SwRegistration,{}),a]})})}},19217:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(21124),e=c(96425),f=c(26691),g=c(15514);let h=(0,f.F)("inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b="default",size:c="default",asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{className:(0,g.cn)(h({variant:b,size:c,className:a})),"data-size":c,"data-slot":"button","data-variant":b,...i})}},20474:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},26519:(a,b,c)=>{"use strict";c.d(b,{Fc:()=>h,T2:()=>k,TN:()=>j,XL:()=>i});var d=c(21124),e=c(26691),f=c(15514);let g=(0,e.F)("relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 rounded-lg border px-4 py-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"bg-card text-destructive *:data-[slot=alert-description]:text-destructive/90 [&>svg]:text-current"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),"data-slot":"alert",role:"alert",...c})}function i({className:a,...b}){return(0,d.jsx)("div",{className:(0,f.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",a),"data-slot":"alert-title",...b})}function j({className:a,...b}){return(0,d.jsx)("div",{className:(0,f.cn)("col-start-2 grid justify-items-start gap-1 text-muted-foreground text-sm [&_p]:leading-relaxed",a),"data-slot":"alert-description",...b})}function k({className:a,...b}){return(0,d.jsx)("div",{className:(0,f.cn)("col-start-2 col-end-[-1] mt-4",a),"data-slot":"alert-action",...b})}},33443:(a,b,c)=>{"use strict";function d(){return null}c.d(b,{SwRegistration:()=>d}),c(38301)},34889:(a,b,c)=>{"use strict";c.d(b,{HX:()=>g,db:()=>f,qX:()=>h});var d=c(80120);class e extends d.cf{constructor(){super("SorareDB"),this.version(2).stores({cachedCards:"slug, userSlug, timestamp, rarityFilter",cache:"key, timestamp",savedFormations:"++id, league, createdAt"})}}let f=new e,g={SHORT:3e5,MEDIUM:18e5,LONG:864e5,VERY_LONG:6048e5};async function h(){let a=Date.now(),b=[];await f.cache.toCollection().each(c=>{c.ttl&&a-c.timestamp>c.ttl&&b.push(c.key)}),b.length>0&&await f.cache.bulkDelete(b)}},40380:(a,b,c)=>{"use strict";c.d(b,{k:()=>h});var d=c(21124),e=c(14263),f=c(25345);let g={loader:e.A,refresh:f.A};function h({icon:a="loader",message:b}){let c=g[a];return(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 py-12",children:[(0,d.jsx)(c,{className:"h-8 w-8 animate-spin text-muted-foreground"}),b&&(0,d.jsx)("p",{className:"text-muted-foreground text-sm",children:b})]})}},43690:(a,b,c)=>{"use strict";c.d(b,{SwRegistration:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call SwRegistration() from the server but SwRegistration is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/alessandrobisi/Progetti/sorare-ai/components/sw-registration.tsx","SwRegistration")},45119:(a,b,c)=>{"use strict";c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(21124),e=c(15514);function f({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("flex flex-col gap-6 rounded-xl border bg-card py-6 text-card-foreground shadow-sm",a),"data-slot":"card",...b})}function g({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),"data-slot":"card-header",...b})}function h({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("font-semibold leading-none",a),"data-slot":"card-title",...b})}function i({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("text-muted-foreground text-sm",a),"data-slot":"card-description",...b})}function j({className:a,...b}){return(0,d.jsx)("div",{className:(0,e.cn)("px-6",a),"data-slot":"card-content",...b})}},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},54111:(a,b,c)=>{"use strict";c.d(b,{x:()=>l});var d=c(21124),e=c(14343),f=c(65783),g=c(81100),h=c(3991),i=c.n(h),j=c(42378);let k=[{href:"/cards",label:"Le mie Carte",icon:e.A},{href:"/lineup",label:"Crea Formazione",icon:f.A},{href:"/saved-lineups",label:"Formazioni Salvate",icon:g.A}];function l(){let a=(0,j.usePathname)();return(0,d.jsx)("nav",{className:"mb-6 flex items-center gap-2 border-slate-200 border-b pb-4",children:k.map(b=>{let c=a===b.href,e=b.icon;return(0,d.jsxs)(i(),{className:`flex items-center gap-2 rounded-lg px-4 py-2 font-medium text-sm transition-colors ${c?"bg-violet-100 text-violet-700":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}
            `,href:b.href,children:[(0,d.jsx)(e,{className:"h-4 w-4"}),b.label]},b.href)})})}},60315:(a,b,c)=>{Promise.resolve().then(c.bind(c,43690))},60637:(a,b,c)=>{"use strict";c.d(b,{UK:()=>f,b2:()=>d,jK:()=>e});let d=!0,e=!0,f={"Serie A|it":"Serie A","Premier League|gb-eng":"Premier League","Primera Divisi\xf3n|es":"La Liga","Bundesliga|de":"Bundesliga","Bundesliga|at":"Bundesliga Austria","Ligue 1|fr":"Ligue 1","First Division A|be":"Jupiler Pro League","MLS|us":"MLS","Eredivisie|nl":"Eredivisie","Liga Portugal|pt":"Liga Portugal"}},70931:(a,b,c)=>{Promise.resolve().then(c.bind(c,33443))},76062:(a,b,c)=>{"use strict";c.d(b,{mL:()=>k,T7:()=>j});var d=c(34889);class e{async init(){if(!this.cache)try{this.cache=await caches.open("sorare-graphql-cache")}catch{console.warn("Cache API not available")}}generateKey(a){let b=JSON.stringify({query:a.query,variables:a.variables});return`/graphql/${btoa(b)}`}isExpired(a){return!!a.ttl&&Date.now()-a.timestamp>a.ttl}async get(a){if(await this.init(),!this.cache)return null;try{let b=this.generateKey(a),c=await this.cache.match(b);if(!c)return null;let d=await c.json();if(this.isExpired(d))return await this.cache.delete(b),null;return d.data}catch{return null}}async set(a,b,c=864e5){if(await this.init(),this.cache)try{let d=this.generateKey(a),e={data:b,timestamp:Date.now(),ttl:c},f=Response.json(e);await this.cache.put(d,f)}catch{}}async invalidate(a){if(await this.init(),this.cache)if(a){let b=this.generateKey(a);await this.cache?.delete(b)}else{let a=await this.cache.keys();await Promise.all(a.map(a=>this.cache?.delete(a)))}}async clear(){if(await this.init(),!this.cache)return;let a=await this.cache.keys();await Promise.all(a.map(async a=>{this.cache&&await this.cache.delete(a)}))}async getSize(){return(await this.init(),this.cache)?(await this.cache.keys()).length:0}constructor(){this.cache=null}}let f=new e;async function g(a,b,c){let d=await f.get(a);if(d)return d;let e=await b();return await f.set(a,e,c),e}let h=`
  query GetCards($after: String) {
    currentUser {
      slug
      cards(first: 100, after: $after, rarities: [limited, rare]) {
        nodes {
          slug
          name
          rarityTyped
          anyPositions
          pictureUrl
          inSeasonEligible
          cardPrice
          lowestPriceCard {
            slug
            cardPrice
          }
          latestPrimaryOffer {
            price {
              eurCents
              usdCents
              referenceCurrency
            }
            status
          }
          anyPlayer {
            activeClub {
              name
              pictureUrl
              activeCompetitions {
                name
                displayName
                format
                country {
                  code
                  name
                }
              }
            }
          }
          l5Average: averageScore(type: LAST_FIVE_SO5_AVERAGE_SCORE)
          l10Average: averageScore(type: LAST_TEN_PLAYED_SO5_AVERAGE_SCORE)
          l15Average: averageScore(type: LAST_FIFTEEN_SO5_AVERAGE_SCORE)
          l40Average: averageScore(type: LAST_FORTY_SO5_AVERAGE_SCORE)
          power
          powerBreakdown {
            xp
            season
          }
        }
        pageInfo {
          hasNextPage
          endCursor
        }
      }
    }
  }
`;async function i({cursor:a,signal:b,useCache:c=!0,cacheTtl:d=18e5}={}){let e=async()=>{let c=await fetch("/api/graphql",{body:JSON.stringify({query:h,variables:{after:a}}),headers:{"Content-Type":"application/json"},method:"POST",signal:b});if(429===c.status){let d=c.headers.get("Retry-After"),e=d?1e3*Number.parseInt(d,10):2e3;return await new Promise(a=>setTimeout(a,e)),i({cursor:a,signal:b,useCache:!1})}let d=await c.json();if(d.errors)throw Error(d.errors.map(a=>a.message).join(", "));if(!d.data?.currentUser)return{cards:[],cursor:null};let e=(d.data.currentUser.cards?.nodes||[]).filter(a=>(a.anyPlayer?.activeClub?.activeCompetitions||[]).some(a=>"DOMESTIC_LEAGUE"===a.format)),f=d.data.currentUser.cards?.pageInfo;return{cards:e,cursor:f?.hasNextPage?f?.endCursor:null,userSlug:d.data.currentUser.slug}};return c?await g({query:h,variables:{after:a}},e,d):await e()}async function j(a={}){let{onProgress:b,enablePagination:c=!0,pageDelay:d=1100,signal:e,cacheTtl:f=18e5}=a,g=[],h=null,k=0,l="",m=a=>new Promise(b=>setTimeout(b,a));do{k++;let a=await i({cacheTtl:f,cursor:h,signal:e,useCache:1===k});if(g.push(...a.cards),a.userSlug&&(l=a.userSlug),b?.(k,g.length),(h=a.cursor)&&!c)break;h&&await m(d)}while(h);return{cards:g,userSlug:l}}async function k(){if(await f.clear(),await d.db.cache.clear(),await d.db.cachedCards.clear(),"undefined"!=typeof caches){let a=await caches.keys();await Promise.all(a.map(a=>caches.delete(a)))}}},80562:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},82042:(a,b,c)=>{"use strict";c.d(b,{KX:()=>e});var d=c(38301);function e(a=36e5){let[b,c]=(0,d.useState)(!1);return b}c(34889)},82704:()=>{}};