import{c as E,e as S,B as U,u as T,f as ee}from"./button-C3H20fmt.js";import{j as r,r as c,R as te}from"./main-UrG3l67e.js";import{C as V,a as H}from"./input-CmGIDR3g.js";import{A as F,a as ne}from"./sorare-api-BEyfOWLI.js";const re=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],oe=E("arrow-down",re);const se=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ie=E("arrow-up-down",se);const ae=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ce=E("arrow-up",ae);const le=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ue=E("check",le);const de=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],fe=E("grid-3x3",de);const me=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],he=E("list",me);const pe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dt=E("search",pe);function xe({src:e,alt:t}){return r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{alt:t,className:"h-auto max-w-[200px] rounded-lg",height:200,loading:"lazy",src:e,width:200})})}function ft({card:e,showPositions:t=!0,showAverages:n=!0}){return r.jsx(V,{children:r.jsxs(H,{className:"space-y-3",children:[e.pictureUrl&&r.jsx(xe,{alt:e.name,src:e.pictureUrl}),t&&e.anyPositions&&e.anyPositions.length>0&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Position:"})," ",e.anyPositions.join(", ")]}),n&&r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-xs",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"L5"}),r.jsx("div",{className:"font-medium",children:e.l5Average?.toFixed(1)??"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"L15"}),r.jsx("div",{className:"font-medium",children:e.l15Average?.toFixed(1)??"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"L40"}),r.jsx("div",{className:"font-medium",children:e.l40Average?.toFixed(1)??"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-muted-foreground",children:"XP"}),r.jsx("div",{className:"font-medium",children:e.power?Math.round((Number.parseFloat(e.power)-1)*100):"-"})]})]}),e.anyPlayer?.activeClub&&r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsx("div",{className:"font-medium",children:e.anyPlayer.activeClub.name}),e.anyPlayer.activeClub.activeCompetitions&&e.anyPlayer.activeClub.activeCompetitions.length>0&&r.jsx("div",{className:"text-muted-foreground",children:e.anyPlayer.activeClub.activeCompetitions.find(s=>s.format==="DOMESTIC_LEAGUE")?.name??e.anyPlayer.activeClub.activeCompetitions[0]?.name})]})]})})}function ge({className:e,...t}){return r.jsx("div",{className:"relative w-full overflow-x-auto","data-slot":"table-container",children:r.jsx("table",{className:S("w-full caption-bottom text-sm",e),"data-slot":"table",...t})})}function ye({className:e,...t}){return r.jsx("tbody",{className:S("[&_tr:last-child]:border-0",e),"data-slot":"table-body",...t})}function ve({className:e,...t}){return r.jsx("tr",{className:S("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),"data-slot":"table-row",...t})}function k({className:e,...t}){return r.jsx("td",{className:S("whitespace-nowrap p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),"data-slot":"table-cell",...t})}function mt(e){const n=new Date().getTime()-e.getTime(),o=Math.floor(n/6e4),s=Math.floor(n/36e5),i=Math.floor(n/864e5);return o<1?"just now":o<60?`${o}m ago`:s<24?`${s}h ago`:`${i}d ago`}function be(e){return{Goalkeeper:"POR",Defender:"DIF",Midfielder:"CEN",Forward:"ATT"}[e]??e}function ht(e){const t=new Map;for(const n of e){const o=n.anyPlayer?.activeClub?.activeCompetitions??[];for(const s of o){if(s.format!=="DOMESTIC_LEAGUE"||!s.country)continue;const i=`${s.name}|${s.country.code}`;if(Object.hasOwn(F,i)&&!t.has(i)){const l=F[i]??i;t.set(i,l)}}}return Array.from(t.entries()).map(([n,o])=>({value:n,label:o})).sort((n,o)=>n.label.localeCompare(o.label))}function Ne(e,t){return t==="all"?e:e.filter(n=>n.rarityTyped.toLowerCase()===t)}function Ce(e,t){return t==="all"?e:e.filter(n=>n.anyPositions?.includes(t))}function we(e,t){if(t==="all")return e;const[n,o]=t.split("|");return e.filter(s=>s.anyPlayer?.activeClub?.activeCompetitions?.some(i=>i.format==="DOMESTIC_LEAGUE"&&i.name===n&&i.country?.code===o))}function je(e,t){return t?e.filter(n=>n.inSeasonEligible===!0):e}function ke(e,t){return t==="all"?e:e.filter(n=>n.sealed===(t==="sealed"))}function Se(e,t){if(!t.trim())return e;const n=t.toLowerCase().trim();return e.filter(o=>o.name.toLowerCase().includes(n)||o.anyPlayer?.activeClub?.name?.toLowerCase().includes(n))}function Ee(e,t){return[...e].sort((n,o)=>{switch(t){case"name":return n.name.localeCompare(o.name);case"team":return(n.anyPlayer?.activeClub?.name??"").localeCompare(o.anyPlayer?.activeClub?.name??"");case"l5":return(o.l5Average??0)-(n.l5Average??0);case"l10":return(o.l10Average??0)-(n.l10Average??0);case"l15":return(o.l15Average??0)-(n.l15Average??0);case"l40":return(o.l40Average??0)-(n.l40Average??0);default:return 0}})}function pt(e,t){let n=Ne(e,t.rarity);return n=Ce(n,t.position),n=we(n,t.league),n=je(n,t.inSeasonOnly),n=ke(n,t.sealed),n=Se(n,t.searchQuery),Ee(n,t.sortBy)}function Pe({src:e,alt:t,size:n=60}){const[o,s]=c.useState(!1);return o||!e?r.jsx("div",{className:"flex shrink-0 items-center justify-center rounded-full bg-slate-200 text-slate-400 dark:bg-slate-700 dark:text-slate-500",style:{width:n,height:n},children:r.jsx("span",{className:"font-medium text-xs",children:"N/A"})}):r.jsx("div",{className:"relative shrink-0",style:{width:n,height:n},children:r.jsx("img",{alt:t,className:"absolute inset-0 rounded-full object-cover",height:n,loading:"lazy",onError:()=>s(!0),src:e,style:{objectPosition:"50% 16.67%",width:n,height:n},width:n})})}const Ae={name:230,team:250,forma:100,l5:50,l15:50,l40:50},xt={name:200,team:300,forma:90,price:400,l5:50,l15:50,l40:50},_e=/^(.+?)\s+\d{4}-\d{2}/;function M(e){const t=e.name,n=t.match(_e);return n?n[1]:t}function Re(e){return e.anyPlayer?.activeClub?.activeCompetitions?e.anyPlayer.activeClub.activeCompetitions.find(n=>n.format==="DOMESTIC_LEAGUE")?.name??e.anyPlayer.activeClub.activeCompetitions[0]?.name??"-":"-"}function I(e){return e.anyPlayer?.activeClub?.name??"-"}function Me(e){return e.power?Math.round((Number.parseFloat(e.power)-1)*100):0}function $(e){return e==null?"-":`€${(e/100).toFixed(2)}`}function Ie(e){if(!e)return null;const t=Number.parseFloat(e);if(Number.isNaN(t)||t===0)return null;const n=t/1e18;return Math.round(n*ne*100)}function Te(e){const t=[],n=Ie(e.priceRange?.min);t.push($(n));const o=["INSTANT_BUY","ENGLISH_AUCTION","SINGLE_BUY_OFFER","SINGLE_SALE_OFFER","DIRECT_OFFER"];let s=null;if(e.ownershipHistory&&e.ownershipHistory.length>0)for(let i=e.ownershipHistory.length-1;i>=0;i--){const a=e.ownershipHistory[i];if(a&&o.includes(a.transferType)&&a.amounts?.eurCents){s=a.amounts.eurCents;break}}return t.push($(s)),t.join(" | ")}function Oe(e){return e===0?"#9ca3af":e<=30?"#ef4444":e<=40?"#f97316":e<=59?"#84cc16":e<=79?"#22c55e":"#22d3ee"}function Le({scores:e}){const t=[...e].slice(-10),n=[],o=10-t.length;for(let a=0;a<o;a++)n.push({score:0,position:a});t.forEach((a,l)=>{n.push({score:a.score,position:o+l})});const s=100,i=[...n].reverse();return r.jsx("div",{className:"flex h-[45px] w-[80px] items-end rounded bg-gray-100 p-1",children:i.map(a=>{const l=a.score/s*100,u=a.score===0?"3px":`${Math.max(l,4)}%`;return r.jsx("div",{style:{width:"7px",height:u,backgroundColor:Oe(a.score)}},`bar-${a.position}`)})})}function P(e,t,n){if(e===t)return 0;if(e==null)return 1;if(t==null)return-1;let o=0;return typeof e=="string"&&typeof t=="string"?o=e.localeCompare(t):typeof e=="number"&&typeof t=="number"?o=e-t:o=String(e).localeCompare(String(t)),n==="asc"?o:-o}function De(e,t,n){return t!==e?r.jsx(ie,{className:"ml-1 inline-block h-4 w-4"}):n==="asc"?r.jsx(ce,{className:"ml-1 inline-block h-4 w-4"}):r.jsx(oe,{className:"ml-1 inline-block h-4 w-4"})}function gt({cards:e,showEmptyMessage:t=!0,emptyMessage:n,onCardClick:o,disabled:s=!1,showHeader:i=!0,sortKey:a,sortDirection:l,onSort:u,columnWidths:d=Ae}){const[h,f]=c.useState("name"),[x,g]=c.useState("asc"),y=a??h,v=l??x,p=d,N=c.useMemo(()=>[...e].sort((m,C)=>{switch(y){case"name":return P(M(m),M(C),v);case"team":return P(I(m),I(C),v);case"l5":return P(m.l5Average??0,C.l5Average??0,v);case"l15":return P(m.l15Average??0,C.l15Average??0,v);case"l40":return P(m.l40Average??0,C.l40Average??0,v);default:return 0}}),[e,y,v]),b=m=>{let C="asc";y===m&&(C=v==="asc"?"desc":"asc"),u?u(m,C):(f(m),g(C))},w=m=>De(m,y,v);return e.length===0&&t?r.jsx(V,{children:r.jsx(H,{className:"py-12 text-center text-muted-foreground",children:n??"No cards found"})}):r.jsx("div",{className:"overflow-x-auto rounded-md border",children:r.jsxs(ge,{className:"table-fixed",children:[i&&r.jsx("thead",{className:"sticky top-0 z-10 bg-white shadow-sm [&_tr]:border-b",children:r.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[r.jsx("th",{className:"h-10 cursor-pointer select-none whitespace-nowrap px-2 text-left align-middle font-medium text-foreground hover:bg-muted/80",onClick:()=>b("name"),style:{width:p.name},children:r.jsxs("div",{className:"flex items-center",children:["Giocatore",w("name")]})}),r.jsx("th",{className:"h-10 cursor-pointer select-none whitespace-nowrap px-2 text-left align-middle font-medium text-foreground hover:bg-muted/80",onClick:()=>b("team"),style:{width:p.team},children:r.jsxs("div",{className:"flex items-center",children:["Squadra",w("team")]})}),p.price&&r.jsx("th",{className:"h-10 whitespace-nowrap px-2 text-left align-middle font-medium text-foreground",style:{width:p.price}}),r.jsx("th",{className:"h-10 whitespace-nowrap px-2 text-left align-middle font-medium text-foreground",style:{width:p.forma},children:r.jsx("div",{className:"flex items-center",children:"Forma"})}),r.jsx("th",{className:"h-10 cursor-pointer select-none whitespace-nowrap px-2 text-left align-middle font-medium text-foreground hover:bg-muted/80",onClick:()=>b("l5"),style:{width:p.l5},children:r.jsxs("div",{className:"flex items-center",children:["L5",w("l5")]})}),r.jsx("th",{className:"h-10 cursor-pointer select-none whitespace-nowrap px-2 text-left align-middle font-medium text-foreground hover:bg-muted/80",onClick:()=>b("l15"),style:{width:p.l15},children:r.jsxs("div",{className:"flex items-center",children:["L15",w("l15")]})}),r.jsx("th",{className:"h-10 cursor-pointer select-none whitespace-nowrap px-2 text-left align-middle font-medium text-foreground hover:bg-muted/80",onClick:()=>b("l40"),style:{width:p.l40},children:r.jsxs("div",{className:"flex items-center",children:["L40",w("l40")]})})]})}),r.jsx(ye,{children:N.map(m=>r.jsxs(ve,{className:S(o&&!s&&"cursor-pointer hover:bg-muted/50",s&&"cursor-not-allowed opacity-50"),onClick:()=>{o&&!s&&o(m)},children:[r.jsx(k,{style:{width:p.name},children:r.jsxs("div",{className:"flex items-center gap-3",children:[m.pictureUrl&&r.jsx(Pe,{alt:m.name,size:48,src:m.pictureUrl}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{className:"font-oswald-medium text-[14px] uppercase",children:M(m)}),m.anyPositions&&m.anyPositions.length>0&&r.jsxs("div",{className:"text-muted-foreground text-xs",children:[m.anyPositions.map(C=>be(C)).join(", ")," • XP ",Me(m)||"-","%"]})]})]})}),r.jsx(k,{className:"truncate",style:{width:p.team},children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("div",{children:I(m)}),r.jsx("div",{className:"text-muted-foreground text-xs",children:Re(m)})]})}),p.price&&r.jsx(k,{style:{width:p.price},children:r.jsx("div",{className:"text-xs",children:Te(m)})}),r.jsx(k,{style:{width:p.forma},children:r.jsx(Le,{scores:m.so5Scores??[]})}),r.jsx(k,{style:{width:p.l5},children:r.jsx("div",{className:"font-medium",children:m.l5Average?.toFixed(0)??"-"})}),r.jsx(k,{style:{width:p.l15},children:r.jsx("div",{className:"font-medium",children:m.l15Average?.toFixed(0)??"-"})}),r.jsx(k,{style:{width:p.l40},children:r.jsx("div",{className:"font-medium",children:m.l40Average?.toFixed(0)??"-"})})]},m.slug))})]})})}function yt({viewMode:e,onViewModeChange:t}){return r.jsxs("div",{className:"flex gap-2",children:[r.jsx(U,{"aria-label":"Vista griglia",onClick:()=>t("grid"),size:"icon-sm",title:"Vista griglia",variant:e==="grid"?"default":"outline",children:r.jsx(fe,{})}),r.jsx(U,{"aria-label":"Vista lista",onClick:()=>t("list"),size:"icon-sm",title:"Vista lista",variant:e==="list"?"default":"outline",children:r.jsx(he,{})})]})}function Ue(e,t=[]){let n=[];function o(i,a){const l=c.createContext(a),u=n.length;n=[...n,a];const d=f=>{const{scope:x,children:g,...y}=f,v=x?.[e]?.[u]||l,p=c.useMemo(()=>y,Object.values(y));return r.jsx(v.Provider,{value:p,children:g})};d.displayName=i+"Provider";function h(f,x){const g=x?.[e]?.[u]||l,y=c.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>c.createContext(a));return function(l){const u=l?.[e]||i;return c.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[o,Fe(s,...t)]}function Fe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=o.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function B(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}var _=globalThis?.document?c.useLayoutEffect:()=>{},$e=te[" useInsertionEffect ".trim().toString()]||_;function Be({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[s,i,a]=Ve({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:s;{const h=c.useRef(e!==void 0);c.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,o])}const d=c.useCallback(h=>{if(l){const f=He(h)?h(e):h;f!==e&&a.current?.(f)}else i(h)},[l,e,i,a]);return[u,d]}function Ve({defaultProp:e,onChange:t}){const[n,o]=c.useState(e),s=c.useRef(n),i=c.useRef(t);return $e(()=>{i.current=t},[t]),c.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,o,i]}function He(e){return typeof e=="function"}function We(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ze(e){const[t,n]=c.useState(void 0);return _(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}function Ge(e,t){return c.useReducer((n,o)=>t[n][o]??n,e)}var W=e=>{const{present:t,children:n}=e,o=qe(t),s=typeof n=="function"?n({present:o.isPresent}):c.Children.only(n),i=T(o.ref,Ke(s));return typeof n=="function"||o.isPresent?c.cloneElement(s,{ref:i}):null};W.displayName="Presence";function qe(e){const[t,n]=c.useState(),o=c.useRef(null),s=c.useRef(e),i=c.useRef("none"),a=e?"mounted":"unmounted",[l,u]=Ge(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const d=A(o.current);i.current=l==="mounted"?d:"none"},[l]),_(()=>{const d=o.current,h=s.current;if(h!==e){const x=i.current,g=A(d);e?u("MOUNT"):g==="none"||d?.display==="none"?u("UNMOUNT"):u(h&&x!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),_(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,f=g=>{const v=A(o.current).includes(CSS.escape(g.animationName));if(g.target===t&&v&&(u("ANIMATION_END"),!s.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},x=g=>{g.target===t&&(i.current=A(o.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:c.useCallback(d=>{o.current=d?getComputedStyle(d):null,n(d)},[])}}function A(e){return e?.animationName||"none"}function Ke(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Xe(e){const t=Ye(e),n=c.forwardRef((o,s)=>{const{children:i,...a}=o,l=c.Children.toArray(i),u=l.find(Je);if(u){const d=u.props.children,h=l.map(f=>f===u?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...a,ref:s,children:c.isValidElement(d)?c.cloneElement(d,void 0,h):null})}return r.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Ye(e){const t=c.forwardRef((n,o)=>{const{children:s,...i}=n;if(c.isValidElement(s)){const a=et(s),l=Qe(i,s.props);return s.type!==c.Fragment&&(l.ref=o?ee(o,a):a),c.cloneElement(s,l)}return c.Children.count(s)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ze=Symbol("radix.slottable");function Je(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ze}function Qe(e,t){const n={...t};for(const o in t){const s=e[o],i=t[o];/^on[A-Z]/.test(o)?s&&i?n[o]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[o]=s):o==="style"?n[o]={...s,...i}:o==="className"&&(n[o]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function et(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=tt.reduce((e,t)=>{const n=Xe(`Primitive.${t}`),o=c.forwardRef((s,i)=>{const{asChild:a,...l}=s,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:i})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),R="Checkbox",[nt]=Ue(R),[rt,L]=nt(R);function ot(e){const{__scopeCheckbox:t,checked:n,children:o,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:u,required:d,value:h="on",internal_do_not_use_render:f}=e,[x,g]=Be({prop:n,defaultProp:s??!1,onChange:u,caller:R}),[y,v]=c.useState(null),[p,N]=c.useState(null),b=c.useRef(!1),w=y?!!a||!!y.closest("form"):!0,m={checked:x,disabled:i,setChecked:g,control:y,setControl:v,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:j(s)?!1:s,isFormControl:w,bubbleInput:p,setBubbleInput:N};return r.jsx(rt,{scope:t,...m,children:st(f)?f(m):o})}var z="CheckboxTrigger",G=c.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...o},s)=>{const{control:i,value:a,disabled:l,checked:u,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:g,bubbleInput:y}=L(z,e),v=T(s,h),p=c.useRef(u);return c.useEffect(()=>{const N=i?.form;if(N){const b=()=>f(p.current);return N.addEventListener("reset",b),()=>N.removeEventListener("reset",b)}},[i,f]),r.jsx(O.button,{type:"button",role:"checkbox","aria-checked":j(u)?"mixed":u,"aria-required":d,"data-state":Z(u),"data-disabled":l?"":void 0,disabled:l,value:a,...o,ref:v,onKeyDown:B(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:B(n,N=>{f(b=>j(b)?!0:!b),y&&g&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})})});G.displayName=z;var D=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:o,checked:s,defaultChecked:i,required:a,disabled:l,value:u,onCheckedChange:d,form:h,...f}=e;return r.jsx(ot,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:d,name:o,form:h,value:u,internal_do_not_use_render:({isFormControl:x})=>r.jsxs(r.Fragment,{children:[r.jsx(G,{...f,ref:t,__scopeCheckbox:n}),x&&r.jsx(Y,{__scopeCheckbox:n})]})})});D.displayName=R;var q="CheckboxIndicator",K=c.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...s}=e,i=L(q,n);return r.jsx(W,{present:o||j(i.checked)||i.checked===!0,children:r.jsx(O.span,{"data-state":Z(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});K.displayName=q;var X="CheckboxBubbleInput",Y=c.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:o,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:u,name:d,value:h,form:f,bubbleInput:x,setBubbleInput:g}=L(X,e),y=T(n,g),v=We(i),p=ze(o);c.useEffect(()=>{const b=x;if(!b)return;const w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set,J=!s.current;if(v!==i&&C){const Q=new Event("click",{bubbles:J});b.indeterminate=j(i),C.call(b,j(i)?!1:i),b.dispatchEvent(Q)}},[x,v,i,s]);const N=c.useRef(j(i)?!1:i);return r.jsx(O.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??N.current,required:l,disabled:u,name:d,value:h,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Y.displayName=X;function st(e){return typeof e=="function"}function j(e){return e==="indeterminate"}function Z(e){return j(e)?"indeterminate":e?"checked":"unchecked"}const it=c.forwardRef(({className:e,...t},n)=>r.jsx(D,{className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),ref:n,...t,children:r.jsx(K,{className:S("flex items-center justify-center text-current"),children:r.jsx(ue,{className:"h-4 w-4"})})}));it.displayName=D.displayName;export{ue as C,dt as S,yt as V,it as a,Ae as b,ft as c,gt as d,be as e,mt as f,De as g,ht as h,pt as i,xt as j};
